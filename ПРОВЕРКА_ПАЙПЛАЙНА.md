# üîç –ü–û–õ–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ü–ê–ô–ü–õ–ê–ô–ù–ê –°–ò–°–¢–ï–ú–´

## ‚úÖ –≠–¢–ê–ü 1: –ò–ú–ü–û–†–¢ –î–ê–ù–ù–´–•

### 1.1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
**–§–∞–π–ª:** `app/import_data/routes.py`
- ‚úÖ –†–æ—É—Ç `/import/` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ (`.xlsx`, `.xls`, `.csv`, `.json`)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 1.2. –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
**–§–∞–π–ª:** `app/services/import_service.py`
- ‚úÖ `_parse_excel()` - –ø–∞—Ä—Å–∏–Ω–≥ Excel —Ñ–∞–π–ª–æ–≤ (xlsx, xls)
- ‚úÖ `_parse_csv()` - –ø–∞—Ä—Å–∏–Ω–≥ CSV —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
- ‚úÖ `_parse_json()` - –ø–∞—Ä—Å–∏–Ω–≥ JSON —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ NaN –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 1.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π
**–§–∞–π–ª:** `app/services/import_service.py` ‚Üí `_auto_map_fields()`
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–æ–ª–µ–π (SKU, name, description)
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π (–Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä, —É–±—Ä–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –≠–¢–ê–ü 2: –°–û–ó–î–ê–ù–ò–ï –¢–û–í–ê–†–û–í

### 2.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏
**–§–∞–π–ª:** `app/services/import_service.py` ‚Üí `_create_product_from_row()`
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SKU (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ SKU
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `DRAFT`
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –∏–º–ø–æ—Ä—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 2.2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
**–§–∞–π–ª:** `app/services/import_service.py` ‚Üí `_create_product_from_row()`
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Ñ–∞–π–ª–∞ –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∞—Ç—Ä–∏–±—É—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ `ProductAttributeValue` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫ –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–∞–ø–ø—è—Ç—Å—è –Ω–∞ —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 2.3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
**–§–∞–π–ª:** `app/services/import_service.py` ‚Üí `_create_product_from_row()`
- ‚úÖ –¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `DRAFT`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ `IN_PROGRESS` –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤ (`ProductStatusHistory`)
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ"

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –≠–¢–ê–ü 3: –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –¢–û–í–ê–†–û–í

### 3.1. –ó–∞–ø—É—Å–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–§–∞–π–ª:** `app/services/verification_service.py` ‚Üí `verify_product()`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ `ProductVerification`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –¥–∞–Ω–Ω—ã—Ö
**–§–∞–π–ª:** `app/services/verification_service.py` ‚Üí `_check_completeness()`
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª–Ω–æ—Ç—ã (0-100%)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Ç–∏–ø–∞ `MISSING_REQUIRED`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
**–§–∞–π–ª:** `app/services/verification_service.py` ‚Üí `_check_quality()`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (text, number, date, boolean, URL)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (–¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤)
- ‚úÖ –†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (0-100%)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Ç–∏–ø–æ–≤: `INVALID_TYPE`, `INVALID_VALUE`, `DUPLICATE_VALUE`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 3.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
**–§–∞–π–ª:** `app/services/verification_service.py` ‚Üí `_check_media()`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –º–µ–¥–∏–∞ (0-100%)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 3.5. –†–∞—Å—á–µ—Ç –æ–±—â–µ–π –æ—Ü–µ–Ω–∫–∏
**–§–∞–π–ª:** `app/services/verification_service.py` ‚Üí `verify_product()`
- ‚úÖ –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞: –ø–æ–ª–Ω–æ—Ç–∞ (40%) + –∫–∞—á–µ—Å—Ç–≤–æ (40%) + –º–µ–¥–∏–∞ (20%)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫ –≤ `ProductVerification`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º –≤ `VerificationIssue`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –≠–¢–ê–ü 4: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ü–ï–†–ï–•–û–î–´ –°–¢–ê–¢–£–°–û–í

### 4.1. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–§–∞–π–ª:** `app/services/verification_service.py` ‚Üí `_update_status_based_on_score()`
- ‚úÖ –û—Ü–µ–Ω–∫–∞ ‚â•80% ‚Üí `APPROVED`
- ‚úÖ –û—Ü–µ–Ω–∫–∞ 50-79% ‚Üí `TO_REVIEW`
- ‚úÖ –û—Ü–µ–Ω–∫–∞ <50% ‚Üí `REJECTED`
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –æ—Ü–µ–Ω–∫–æ–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 4.2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
**–§–∞–π–ª:** `app/services/import_service.py` ‚Üí `_import_products()`
- ‚úÖ –û–ø—Ü–∏—è `auto_verify` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–º–ø–æ—Ä—Ç)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –≠–¢–ê–ü 5: –†–£–ß–ù–´–ï –ü–ï–†–ï–•–û–î–´ –°–¢–ê–¢–£–°–û–í

### 5.1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ UI
**–§–∞–π–ª:** `app/main/routes.py` ‚Üí `change_product_status()`
- ‚úÖ –†–æ—É—Ç `/products/<id>/status` (POST)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ Flash-—Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ç–∞—Ç—É—Å–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 5.2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ API
**–§–∞–π–ª:** `app/api/routes.py` ‚Üí `update_product_status()`
- ‚úÖ –†–æ—É—Ç `/api/products/<id>/status` (PUT)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ JSON
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –≠–¢–ê–ü 6: –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô

### 6.1. –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
**–§–∞–π–ª:** `app/models/workflow.py` ‚Üí `ProductStatusHistory`
- ‚úÖ –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –ü–æ–ª—è: old_status, new_status, changed_by, changed_at, comment
- ‚úÖ –°–≤—è–∑—å —Å —Ç–æ–≤–∞—Ä–æ–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª–µ–π —Ç–æ–≤–∞—Ä–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 6.2. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
**–§–∞–π–ª:** `app/models/version.py` ‚Üí `ProductVersion`
- ‚úÖ –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π —Ç–æ–≤–∞—Ä–∞
- ‚ö†Ô∏è **–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π** —á–µ—Ä–µ–∑ API (`POST /api/products/<id>/versions`)
- ‚ö†Ô∏è **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –≤ UI
- ‚úÖ –ú–µ—Ç–æ–¥ `create_version()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û** (–≤–µ—Ä—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API)

---

## ‚úÖ –≠–¢–ê–ü 7: –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –í UI

### 7.1. –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
**–§–∞–π–ª:** `app/templates/main/products.html`
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É (—Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –∞—Ä—Ç–∏–∫—É–ª—É
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ –±–µ–π–¥–∂–∞–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 7.2. –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
**–§–∞–π–ª:** `app/templates/main/product_detail.html`
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –æ—Ü–µ–Ω–∫–∞–º–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –í–µ—Ä—Å–∏–∏ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

### 7.3. –î–∞—à–±–æ—Ä–¥
**–§–∞–π–ª:** `app/templates/main/index.html`
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º, –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Ç–æ–≤–∞—Ä–∞–º
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (—Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏)
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–æ–≤–∞—Ä—ã
- ‚úÖ –¢–æ–≤–∞—Ä—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –≠–¢–ê–ü 8: API ENDPOINTS

### 8.1. REST API
**–§–∞–π–ª:** `app/api/routes.py`
- ‚úÖ GET `/api/products` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ GET `/api/products/<id>` - –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ POST `/api/products/<id>/verify` - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ PUT `/api/products/<id>/status` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ GET `/api/products/<id>/versions` - –≤–µ—Ä—Å–∏–∏ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ CRUD –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∞—Ç—Ä–∏–±—É—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

---

## üîÑ –ü–û–õ–ù–´–ô –ü–ê–ô–ü–õ–ê–ô–ù

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

1. ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞** ‚Üí `import_data/routes.py:import_page()`
2. ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞** ‚Üí `import_service.py:_parse_excel/csv/json()`
3. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥** ‚Üí `import_service.py:_auto_map_fields()`
4. ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞** ‚Üí `import_service.py:_create_product_from_row()`
   - –¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `DRAFT`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ `IN_PROGRESS`
   - –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
5. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Üí `verification_service.py:verify_product()`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –†–∞—Å—á–µ—Ç –æ–±—â–µ–π –æ—Ü–µ–Ω–∫–∏
6. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞** ‚Üí `verification_service.py:_update_status_based_on_score()`
   - –û—Ü–µ–Ω–∫–∞ ‚â•80% ‚Üí `APPROVED`
   - –û—Ü–µ–Ω–∫–∞ 50-79% ‚Üí `TO_REVIEW`
   - –û—Ü–µ–Ω–∫–∞ <50% ‚Üí `REJECTED`
   - –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
7. ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI** ‚Üí `products.html`, `product_detail.html`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢**

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†—É—á–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞

1. ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–∞** ‚Üí `main/routes.py:product_detail()`
2. ‚úÖ **–ó–∞–ø—É—Å–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏** ‚Üí `main/routes.py:verify_product()`
   - –í—ã–∑–æ–≤ `VerificationService.verify_product()`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–∫–∏
3. ‚úÖ **–†—É—á–Ω–∞—è —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞** ‚Üí `main/routes.py:change_product_status()`
   - –í—ã–±–æ—Ä –Ω–æ–≤–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
   - –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
4. ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏** ‚Üí `product_detail.html`
   - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
   - –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢**

---

## ‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
**–§–∞–π–ª:** `app/models/version.py`
**–†–µ—à–µ–Ω–∏–µ:** –í–µ—Ä—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API endpoint `POST /api/products/<id>/versions`
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò** (–¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞)

### 2. –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ë–î –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û** (–±—É–¥—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ –¢–ó)

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –Ω–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω—ã—Ö)

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

### –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω: ‚úÖ **100% –†–ê–ë–û–¢–ê–ï–¢**

1. ‚úÖ –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (Excel, CSV, JSON)
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
4. ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ–ª–Ω–æ—Ç–∞, –∫–∞—á–µ—Å—Ç–≤–æ, –º–µ–¥–∏–∞)
5. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
6. ‚úÖ –†—É—á–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤
7. ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤
8. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI —Å —Ä—É—Å—Å–∫–∏–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
9. ‚úÖ API endpoints

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: ‚ö†Ô∏è **–¢–†–ï–ë–£–Æ–¢ –ü–†–û–í–ï–†–ö–ò**

1. ‚ö†Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞
2. ‚ö†Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–ª—è —Ä—É—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. ‚ö†Ô∏è –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ –¢–ó)

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**
2. ‚ö†Ô∏è **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞
3. ‚ö†Ô∏è **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤** –¥–ª—è —Ä—É—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. üìù **–≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –±—É–¥—É—â–µ–º —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2024
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 1.0

